# –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤

–í —Ñ–∞–π–ª–µ `.env` –¥–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `ADMIN_IDS` —Å–æ —Å–ø–∏—Å–∫–æ–º Telegram ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é):

```env
ADMIN_IDS=123456789,987654321
```

–ß—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å —Å–≤–æ–π Telegram ID, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ—Ç–∞ [@userinfobot](https://t.me/userinfobot)

### 2. –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã –≤ –±–æ—Ç–µ:

- `/admin` - –æ—Ç–∫—Ä—ã—Ç—å –ø–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- `/clear_students` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ—á–∏—Å—Ç–∫–µ –±–∞–∑—ã —É—á–µ–Ω–∏–∫–æ–≤
- `/delete_olympiad` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É–¥–∞–ª–µ–Ω–∏–∏ –æ–ª–∏–º–ø–∏–∞–¥
- `/delete_class` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É–¥–∞–ª–µ–Ω–∏–∏ –∫–ª–∞—Å—Å–æ–≤
- `/api_help` - —Å–ø—Ä–∞–≤–∫–∞ –ø–æ API

### 3. –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å

–ö–æ–º–∞–Ω–¥–∞ `/admin` –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—É—é –ø–∞–Ω–µ–ª—å —Å –∫–Ω–æ–ø–∫–∞–º–∏:

- **üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ–±—â—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Å–∏—Å—Ç–µ–º—ã
- **üë• –°–ø–∏—Å–æ–∫ —É—á–µ–Ω–∏–∫–æ–≤** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∫–ª–∞—Å—Å–æ–≤ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–µ–Ω–∏–∫–æ–≤
- **üèÜ –°–ø–∏—Å–æ–∫ –æ–ª–∏–º–ø–∏–∞–¥** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –æ–ª–∏–º–ø–∏–∞–¥
- **üì§ –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª** - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–∞–π–ª–æ–≤
- **üîë –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥—ã** - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–æ–≤
- **üìö –°–ø—Ä–∞–≤–∫–∞ –ø–æ API** - –∫—Ä–∞—Ç–∫–∞—è —Å–ø—Ä–∞–≤–∫–∞ –ø–æ API —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º

## API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —á–µ—Ä–µ–∑ REST API. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É `/docs` –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞.

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—á–µ–Ω–∏–∫–∞–º–∏

#### –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö —É—á–µ–Ω–∏–∫–æ–≤
```bash
GET /api/admin/students
```

#### –£–¥–∞–ª–∏—Ç—å —É—á–µ–Ω–∏–∫–∞
```bash
# –£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —É—á–µ–Ω–∏–∫–∞
DELETE /api/admin/students/123

# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ (–¥–∞–∂–µ –µ—Å–ª–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω)
DELETE /api/admin/students/123?force=true
```

#### –û—á–∏—Å—Ç–∏—Ç—å –≤—Å—é –±–∞–∑—É —É—á–µ–Ω–∏–∫–æ–≤
```bash
DELETE /api/admin/students?confirm=DELETE_ALL
```

**–í–ù–ò–ú–ê–ù–ò–ï:** –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ! –ë—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã –í–°–ï —É—á–µ–Ω–∏–∫–∏.

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∞—Å—Å–∞–º–∏

#### –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∫–ª–∞—Å—Å–æ–≤
```bash
GET /api/admin/classes
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∫–ª–∞—Å—Å–æ–≤ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —É—á–µ–Ω–∏–∫–æ–≤ –≤ –∫–∞–∂–¥–æ–º.

#### –ü–æ–ª—É—á–∏—Ç—å —É—á–µ–Ω–∏–∫–æ–≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞
```bash
GET /api/admin/classes/8/students
```

#### –£–¥–∞–ª–∏—Ç—å –≤–µ—Å—å –∫–ª–∞—Å—Å
```bash
DELETE /api/admin/classes/8
```

–£–¥–∞–ª—è–µ—Ç –≤—Å–µ—Ö —É—á–µ–Ω–∏–∫–æ–≤ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞.

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–ª–∏–º–ø–∏–∞–¥–∞–º–∏

#### –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –æ–ª–∏–º–ø–∏–∞–¥
```bash
GET /api/admin/olympiads
```

#### –£–¥–∞–ª–∏—Ç—å –æ–ª–∏–º–ø–∏–∞–¥—É
```bash
DELETE /api/admin/olympiads/5
```

–£–¥–∞–ª—è–µ—Ç –æ–ª–∏–º–ø–∏–∞–¥—É –≤–º–µ—Å—Ç–µ —Å–æ –≤—Å–µ–º–∏ —Å–≤—è–∑–∞–Ω–Ω—ã–º–∏ –∫–æ–¥–∞–º–∏.

#### –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –æ–ª–∏–º–ø–∏–∞–¥—É
```bash
POST /api/admin/olympiads/5/activate
```

–ê–∫—Ç–∏–≤–∏—Ä—É–µ—Ç –æ–ª–∏–º–ø–∏–∞–¥—É –∏ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ.

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

#### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–æ–≤ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
```bash
POST /api/admin/generate-codes?count=10
```

–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —É–∫–∞–∑–∞–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–¥–æ–≤ (–æ—Ç 1 –¥–æ 100).

#### –≠–∫—Å–ø–æ—Ä—Ç —É—á–µ–Ω–∏–∫–æ–≤ –≤ CSV
```bash
GET /api/admin/export/students
```

–°–∫–∞—á–∏–≤–∞–µ—Ç CSV —Ñ–∞–π–ª —Å–æ —Å–ø–∏—Å–∫–æ–º –≤—Å–µ—Ö —É—á–µ–Ω–∏–∫–æ–≤.

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –£–¥–∞–ª–µ–Ω–∏–µ —É—á–µ–Ω–∏–∫–æ–≤ 11 –∫–ª–∞—Å—Å–∞ –ø–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è —à–∫–æ–ª—ã

```bash
# –ü–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ –∫–ª–∞—Å—Å–æ–≤
curl http://localhost:8000/api/admin/classes

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—á–µ–Ω–∏–∫–æ–≤ 11 –∫–ª–∞—Å—Å–∞
curl http://localhost:8000/api/admin/classes/11/students

# –£–¥–∞–ª—è–µ–º –≤—Å–µ—Ö —É—á–µ–Ω–∏–∫–æ–≤ 11 –∫–ª–∞—Å—Å–∞
curl -X DELETE http://localhost:8000/api/admin/classes/11
```

### –ü—Ä–∏–º–µ—Ä 2: –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–π –æ–ª–∏–º–ø–∏–∞–¥—ã

```bash
# –ü–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ –æ–ª–∏–º–ø–∏–∞–¥
curl http://localhost:8000/api/admin/olympiads

# –£–¥–∞–ª—è–µ–º –æ–ª–∏–º–ø–∏–∞–¥—É —Å ID 5
curl -X DELETE http://localhost:8000/api/admin/olympiads/5
```

### –ü—Ä–∏–º–µ—Ä 3: –û—á–∏—Å—Ç–∫–∞ –≤—Å–µ–π –±–∞–∑—ã —É—á–µ–Ω–∏–∫–æ–≤ –ø–µ—Ä–µ–¥ –Ω–æ–≤—ã–º —É—á–µ–±–Ω—ã–º –≥–æ–¥–æ–º

```bash
# –í–ù–ò–ú–ê–ù–ò–ï: –ù–µ–æ–±—Ä–∞—Ç–∏–º–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ!
curl -X DELETE "http://localhost:8000/api/admin/students?confirm=DELETE_ALL"
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

1. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ API**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ API –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –∏–∑ –¥–æ–≤–µ—Ä–µ–Ω–Ω–æ–π —Å–µ—Ç–∏
2. **–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ**: –í—Å–µ–≥–¥–∞ –¥–µ–ª–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –º–∞—Å—Å–æ–≤—ã–º–∏ —É–¥–∞–ª–µ–Ω–∏—è–º–∏
3. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è
4. **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–ø–∞—Å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π**: –î–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–æ–≤ —Å–æ–±–ª—é–¥–∞—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞:

- **–£–¥–∞–ª–µ–Ω–∏–µ —É—á–µ–Ω–∏–∫–∞**: –£–¥–∞–ª—è—é—Ç—Å—è –≤—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –∫–æ–¥—ã –∏ –∑–∞–ø—Ä–æ—Å—ã
- **–£–¥–∞–ª–µ–Ω–∏–µ –æ–ª–∏–º–ø–∏–∞–¥—ã**: –£–¥–∞–ª—è—é—Ç—Å—è –≤—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –∫–æ–¥—ã (Grade8Code, Grade9Code) –∏ –∑–∞–ø—Ä–æ—Å—ã
- **–£–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∞—Å—Å–∞**: –£–¥–∞–ª—è—é—Ç—Å—è –≤—Å–µ —É—á–µ–Ω–∏–∫–∏ —ç—Ç–æ–≥–æ –∫–ª–∞—Å—Å–∞ —Å–æ –≤—Å–µ–º–∏ —Å–≤—è–∑–∞–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

–í—Å–µ —Å–≤—è–∑–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã —Å –∫–∞—Å–∫–∞–¥–Ω—ã–º —É–¥–∞–ª–µ–Ω–∏–µ–º (`cascade="all, delete-orphan"`).

## Troubleshooting

### –ö–æ–º–∞–Ω–¥–∞ /admin –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤–∞—à Telegram ID –¥–æ–±–∞–≤–ª–µ–Ω –≤ `ADMIN_IDS` –≤ `.env`
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è `.env`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±–æ—Ç–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫

### API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 404

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ API —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å URL (–¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å `/api/admin/`)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –Ω–∞ `/docs`

### –ù–µ —É–¥–∞–µ—Ç—Å—è —É–¥–∞–ª–∏—Ç—å —É—á–µ–Ω–∏–∫–∞

1. –ï—Å–ª–∏ —É—á–µ–Ω–∏–∫ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä `force=true`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–µ—Ä–µ–¥–∞–µ—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π ID —É—á–µ–Ω–∏–∫–∞
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
